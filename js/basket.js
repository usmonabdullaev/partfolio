const menuClose=document.querySelector(".close");const menuOpen=document.querySelector(".nav-menu-logo");const menu=document.querySelector(".menu");const menuLinks=document.querySelectorAll(".menu ul a");menuOpen.addEventListener("click",()=>{menu.style.transform="translateX(0)"});menuClose.addEventListener("click",()=>{menu.style.transform="translateX(-100%)"});menuLinks.forEach((link)=>{link.addEventListener("click",()=>{menu.style.transform="translateX(-100%)"})});const emailInput=document.querySelector(".email-input");const emailInput__input=document.querySelector(".email__input");const emailInput_span=document.querySelector(".email-input span");emailInput_span.addEventListener("click",()=>{if(emailInput__input.value==""||emailInput__input.value.length<="8"){emailInput__input.style.background="#c80000";setTimeout(()=>{emailInput__input.style.background="#272727"},800)}else{localStorage.setItem("email",emailInput__input.value);emailInput.innerHTML='<h3 class="email__send">Отправлено</h3>'}});if(localStorage.getItem("email")!=null){emailInput.innerHTML='<h3 class="email__send">Отправлено</h3>'}const basMainCards=document.querySelector(".bas-main-cards");fetch(`http://localhost:3001/cards`).then((response)=>response.json()).then((result)=>{for(let i=0;i<result.length;i++){basMainCards.innerHTML+=`<div class="bas-card" data-id="${result[i].id}"><div class="bas-text"><img class="bas__image" src="${result[i].imageURL}" alt="basket-image"><h4 class="bas__title">${result[i].title}</h4></div><div class="bas-info"><div class="bas-num"></div><h5 class="bas__price"><span>${result[i].price}</span></h5><div class="bas-close"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.33833 0.559291C1.12376 0.346821 0.77588 0.346821 0.561315 0.559291C0.346749 0.771762 0.346749 1.11624 0.561315 1.32872L5.27873 6.00007L0.561434 10.6713C0.346868 10.8838 0.346868 11.2283 0.561434 11.4407C0.775999 11.6532 1.12388 11.6532 1.33844 11.4407L6.05575 6.7695L10.6625 11.3312C10.877 11.5437 11.2249 11.5437 11.4395 11.3312C11.654 11.1188 11.654 10.7743 11.4395 10.5618L6.83276 6.00007L11.4396 1.43823C11.6542 1.22576 11.6542 0.881275 11.4396 0.668804C11.225 0.456334 10.8771 0.456334 10.6626 0.668804L6.05575 5.23065L1.33833 0.559291Z" fill="#828282"/></svg></div></div></div>`}const basClose=document.querySelectorAll(".bas-close");basClose.forEach((item)=>{item.addEventListener("click",()=>{fetch(`http://localhost:3001/cards/${item.parentElement.parentElement.dataset.id}`,{method:"DELETE",})})});let lastTitle=document.querySelector(".last__title");lastTitle.innerText=`${result.length}.00 тыс. p.`});const formBtn=document.querySelector(".data__btn");const inputName=document.querySelector("#data__input-name");const inputTel=document.querySelector("#data__input-tel");const inputEmail=document.querySelector("#data__input-email");formBtn.addEventListener("click",()=>{if(inputName.value==""||inputTel.value==""||inputEmail.value==""){formBtn.innerHTML=`<span style="color: red;">Форма неправилно</span>`;formBtn.style.background="#ccc"}else{inputName.value="";inputTel.value="";inputEmail.value="";formBtn.style.background="red";formBtn.innerText="Отправлено"}})